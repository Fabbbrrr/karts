# 🏎️ KartTimer Pro - Your Digital Race Engineer

**Turn your phone into a professional karting telemetry system!** Real-time race data, personal records tracking, and advanced analytics - all in your pocket.

> 🎯 **Perfect for:** Competitive karters, practice sessions, endurance races, and anyone wanting to improve lap times

<div align="center">

### 🌐 **[LIVE DEMO](https://fabbbrrr.github.io/karts/)** 🌐

[![Install](https://img.shields.io/badge/Install-Add%20to%20Home%20Screen-00ff88?style=for-the-badge)](#-quick-install)
[![Live](https://img.shields.io/badge/Status-Live-00ff88?style=for-the-badge)](https://fabbbrrr.github.io/karts/)

</div>

---

## 🔥 Coolest Features

### 🎮 **Full-Screen HUD Mode**
Transform your phone into a race dashboard with massive, glanceable numbers. Strap it to your kart wheel and see everything at speed.

### 🎯 **Smart Lap Analysis**
- **F1-Style Lap Colors** - Purple for personal bests, green for improvements, red for slow laps
- **Real-Time Gap Tracking** - Are you catching them or falling behind?
- **Pace Trend Arrows** - See if you're getting faster (📈) or slower (📉)
- **Consistency Score** - 0-100 rating showing how consistent your laps are

### 🏆 **Personal Records System**
Automatically saves your all-time best laps. Beat your record and get:
- 🎉 Visual celebration animation
- 📳 Haptic feedback (vibration)
- 🔊 Victory sound alert
- 💾 Permanent record tracking

### 📊 **Advanced Race Intelligence**
- **Delta to Leader** - Track if you're gaining or losing time to P1
- **Position Changes** - See your progress from starting position
- **Ideal Lap Time** - Calculated from your best sectors
- **Gap Trends** - Visual indicators showing if you're closing gaps
- **Percentage Off Best** - Instant self-assessment after each lap

### 🏆 **Multi-Method Race Results**
Revolutionary 5-in-1 results system - see who REALLY won:
- **🏁 Fastest Lap** - Traditional sprint racing (venue default)
- **⏱️ Total Time** - Endurance racing format
- **📈 Average Lap** - Overall consistency winner
- **⭐ Best 3 Average** - Peak performance ranking
- **🎯 Consistency Score** - Most consistent driver wins

**Each method includes:**
- Beautiful animated podium with gold/silver/bronze
- Full standings table with gaps
- Color-coded horizontal bar chart
- Detailed statistics breakdown
- Switch between methods instantly!

### 🔬 **Driver Comparison Mode**
Side-by-side stats of any two drivers with:
- Color-coded better/worse indicators
- Complete timing breakdown
- Real-time updates during the race

### 📈 **Post-Race Analysis**
Complete session summary with:
- Lap-by-lap history with deltas
- New personal records achieved
- Full timing statistics
- Export data as JSON for deep analysis

### 📼 **Session Replay System**
Never miss analyzing a session:
- **Auto-saves last 20 sessions** - All data preserved automatically
- **No live data? No problem** - Selector appears with recorded sessions
- **Full replay mode** - View any past session with complete data
- **🔴 Go Live button** - Return to live feed anytime
- **Perfect for analysis** - Review races when venue is closed

### 💤 **Always-On Display**
Screen stays awake during races - no more fumbling to unlock mid-session!

### 🎵 **Sound & Haptic Alerts**
- 🎶 **Personal Best** - Happy ascending chime
- 🔺 **Position Gain** - Quick double beep  
- 🔻 **Position Loss** - Low warning tone
- ⚠️ **Opponent Close** - Alert when within 1 second of competitor

### 📝 **Driver Notes**
Add timestamped notes during or after your session:
- "Lap 5: Changed tire pressure"
- "Lap 8: Traffic on Turn 3"
- Perfect for tracking setup changes and conditions

### 📊 **Position Chart**
Beautiful F1-style visualization showing:
- Every driver's position throughout the race
- Exactly when positions changed
- Color-coded lines for each driver
- See who you're battling with at a glance

### 🎨 **Color Themes**
Choose your vibe:
- 🌙 **Dark** - Easy on the eyes (default)
- ☀️ **Light** - Bright and clear
- 🏎️ **F1 Red** - Racing heritage
- 🏁 **Racing Green** - Classic motorsport

### ⚡ **Lightning Fast**
Instant updates via websocket - see changes the moment they happen on track.

### 📱 **Install Like a Real App**
No app store needed! Add to home screen and it works offline, loads instantly, and feels native.

### 🎨 **Quick Customization**
Mini toggle buttons on every component - hide what you don't need without diving into settings.

---

## 🚀 Quick Install

### On Your Phone (30 seconds):

1. **Visit:** [https://fabbbrrr.github.io/karts/](https://fabbbrrr.github.io/karts/)

2. **Install:**
   - **Android:** Tap menu (⋮) → "Add to Home screen"
   - **iPhone:** Tap Share (□↑) → "Add to Home Screen"

3. **Done!** App appears on your home screen like any other app.

---

## 🎯 How to Use

### 🏁 During a Race:

1. **Open the app** - It connects automatically
2. **Select your kart** - Tap driver name on Race tab OR use HUD screen selector
3. **Switch to HUD tab** - Full-screen view of YOUR data
4. **Race!** - Screen stays on, data updates in real-time
5. **Add notes** - Tap to record observations during or after laps

### 📊 Tabs Explained:

| Tab | What It Shows |
|-----|---------------|
| **🏁 Race** | All drivers, positions, gaps, and timing |
| **🎮 HUD** | YOUR data only - huge numbers for racing |
| **🏆 Results** | Winners by 5 different scoring methods with podium & graphs |
| **⚖️ Compare** | Pick any 2 drivers to compare stats |
| **📈 Summary** | Complete session analysis & records |
| **⚙️ Settings** | Customize features and preferences |

### 💡 Pro Tips:

- **Quick driver switch** - Use dropdown in HUD header to change drivers on the fly
- **Tap driver name** on Race tab for instant HUD view
- **Mini toggles** (➖) on HUD cards instantly hide components
- **Add notes as you race** - Track setup changes and conditions
- **Watch the position chart** - See who's gaining or losing positions
- **Proximity alerts** - Get notified when opponents are within 1 second
- **Compare scoring methods** - You might be 4th by fastest lap but 1st by consistency!
- **Replay past sessions** - When no live data, select from 20 auto-saved sessions
- **Export session data** to analyze later on a computer
- **Switch themes** in settings to match your style
- **Consistency score** of 90+ = very consistent driving

---

## 🏆 Race Results Explained

The **Results** tab shows final standings using 5 different scoring methods. Each method rewards different racing styles!

### Scoring Methods:

#### 🏁 **Fastest Lap (Venue Default)**
- **How it works:** Winner = fastest single lap time
- **Best for:** Sprint races, qualifying sessions
- **Rewards:** Raw speed, perfect laps
- **Example:** Your best lap was 42.156s? That's your score!

#### ⏱️ **Total Time (Endurance)**
- **How it works:** Sum of all lap times  
- **Best for:** Endurance races, longer sessions
- **Rewards:** Consistency + completing more laps
- **Example:** 10 laps × ~43s each = 430s total

#### 📈 **Average Lap Time**
- **How it works:** Average of ALL completed laps
- **Best for:** Fair comparison across different lap counts
- **Rewards:** Overall consistency throughout session
- **Example:** 10 laps totaling 430s = 43.0s average

#### ⭐ **Best 3 Laps Average**
- **How it works:** Average of your 3 fastest laps
- **Best for:** Eliminating outliers (traffic, mistakes)
- **Rewards:** Peak performance potential
- **Example:** 42.1s + 42.3s + 42.5s = 42.3s average
- **Note:** Requires minimum 3 completed laps

#### 🎯 **Consistency Score**
- **How it works:** Points for lap time consistency (0-100)
- **Best for:** Rewarding smooth, predictable driving
- **Rewards:** Low variance, repeatable lap times
- **Example:** 95/100 = super consistent, 60/100 = erratic
- **Higher score wins** (unlike time-based methods)

### What's Included in Each Method:

Every scoring method displays:
- **🏆 Animated Podium** - Gold/silver/bronze with driver names
- **📋 Full Rankings Table** - All drivers with gaps to winner
- **📊 Bar Chart** - Visual comparison of top 10 drivers
- **📈 Statistics** - Winner, field average, spread, driver count

### Why Multiple Methods?

Different methods can produce **completely different winners:**
- Fastest Lap rewards the perfect single lap
- Total Time rewards endurance and lap completion
- Average rewards overall consistency
- Best 3 eliminates bad luck/traffic
- Consistency rewards smooth driving

**Try them all!** See where you truly excel. 🏁

---

## 🎨 Customization

### Hide Components You Don't Need:
Every card has a mini toggle (➖) in the corner - tap to hide/show instantly!

### Settings Tab:
- ✅ **Enable/disable** any feature
- 🎨 **Choose** what data to display and color theme
- 👤 **Select** main driver
- 🏁 **Configure** track/venue (works with any RaceFacer venue!)
- 💾 **Manage** your data exports and backups
- 🎛️ **Control** HUD component visibility
- ⚠️ **Adjust** proximity alert threshold

### Quick Reset:
Tap "Show All HUD Components" in settings to bring back hidden items.

---

## 🌟 What Makes This Special?

Unlike basic timing displays, KartTimer Pro gives you:

✅ **Professional-grade analytics** without expensive equipment  
✅ **5 scoring methods** - see results from every angle  
✅ **Session replay** - auto-saves last 20 sessions for review  
✅ **Works on any phone** - Android, iPhone, tablets  
✅ **Completely free** - no subscriptions, no ads  
✅ **Privacy first** - no account needed, data stays on your device  
✅ **Battle-tested** - built by racers, for racers  
✅ **Smart session detection** - automatically resets between races  

---

## 💾 Your Data is Safe

- **Local Storage** - All settings & records saved on your device
- **Auto-Save Sessions** - Last 20 sessions recorded automatically
- **Session Replay** - Review any past session anytime
- **Export Anytime** - Download complete backup as JSON file
- **Import Anywhere** - Restore your data on any device
- **No Cloud Required** - Works 100% offline after first load

---

## 🆘 Troubleshooting

| Problem | Solution |
|---------|----------|
| **No connection** | Check WiFi, refresh page |
| **Wrong venue** | Go to Settings → Track Configuration to change venue |
| **No data showing** | Use session selector to view recorded sessions |
| **Want to review past race** | Session selector appears when no live data available |
| **Screen sleeps** | Install as PWA (Add to Home Screen) for Always-On Display |
| **Can't select driver** | Use HUD screen selector OR tap driver name in Race tab |
| **Updates feel slow** | Refresh the page - updates are instant via websocket |
| **Stuck in replay** | Click red "🔴 Go Live" button to return to live feed |

---

## 🚀 Want to Host Your Own?

**Free forever on GitHub Pages!** [See technical documentation](./TECHNICAL.md)

---

## 🎮 Works With Any RaceFacer Venue!

- **RaceFacer** timing systems worldwide
- Any venue using RaceFacer Live Timing
- **Easy configuration**: Just enter your venue name in Settings → Track Configuration
- Default: Le Mans Entertainment

**Example venues:**
- Go to Settings → Track/Venue Configuration
- Enter your venue's channel name (e.g., "yourvenuename")
- Find it at `live.racefacer.com/YOUR_VENUE_NAME`

---

## 📱 Requirements

- Any modern smartphone/tablet
- Chrome, Safari, Edge, or Firefox
- Internet connection during race
- That's it!

---

## 🏆 Feature Highlights

<table>
<tr>
<td width="50%">

### 📱 User Experience
- One-tap driver selection
- Touch-optimized buttons
- Responsive portrait/landscape
- Automatic orientation
- Haptic feedback

</td>
<td width="50%">

### 🔬 Race Analytics  
- 5 scoring methods
- Lap-by-lap deltas
- Position tracking
- Gap analysis
- Consistency metrics
- Personal records

</td>
</tr>
<tr>
<td width="50%">

### 🎨 Visual Design
- 4 color themes to choose from
- F1-inspired lap colors
- High contrast for track visibility
- Large readable fonts
- Smooth animations
- Position change visualization

</td>
<td width="50%">

### 🛠️ Technical
- Event-driven updates (instant)
- WebSocket real-time connection
- Canvas-based visualizations
- Service worker caching
- Wake Lock API (always-on)
- Web Audio API (alerts)
- Multi-venue support

</td>
</tr>
</table>

---

## 🎯 Perfect For

✅ **Practice Days** - Track your improvement lap by lap  
✅ **Competitive Racing** - Know exactly where you stand  
✅ **Endurance Events** - Use Total Time or Average scoring  
✅ **League Racing** - Compare results across different scoring methods  
✅ **Coaching** - Show students where they excel (speed vs consistency)  
✅ **Team Racing** - Compare teammates' performance  
✅ **Personal Goals** - Beat your own records  

---

## 🔮 Coming Soon

Want to contribute? Check out [FUTURE_FEATURES.md](./FUTURE_FEATURES.md) for the roadmap!

---

## 📞 Support & Links

- **Live Demo:** [https://fabbbrrr.github.io/karts/](https://fabbbrrr.github.io/karts/)
- **Technical Docs:** [TECHNICAL.md](./TECHNICAL.md)
- **Report Issues:** Use your browser's developer console (F12)
- **Venue Powered by:** [RaceFacer](https://racefacer.com)

---

<div align="center">

### 🏁 **Ready to Race?** 🏁

**[OPEN APP NOW →](https://fabbbrrr.github.io/karts/)**

*Made with ❤️ by racers, for racers*

---

**⭐ Like this? Star the repo! | 🐛 Found a bug? Check console logs | 💡 Have ideas? Fork it!**

</div>
